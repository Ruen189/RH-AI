# src/llm_prompts.py

VACANCY_COMPETENCIES_PROMPT = """
Проанализируй текст вакансии и выдели ТОЛЬКО профессиональные компетенции из текста вакансии.
Возможными компетенциями могут быть: языки программирования, фреймворки, библиотеки, базы данных и методы работы с ними, разработка чат-ботов, 
направления в индустриях, например построение ML-моделей, NLP, LLM, а также A/B-тестирование, геймдизайн, Power BI, разработка онлайн-курсов.

Входные данные:
Отрасль: {industry}
Название: {title}
Описание: {description}

Верни только JSON-массив строк. Компетенций(строк) в массиве должно быть не менее одной, но НЕ БОЛЕЕ 7. Компетенций должны быть выделены строго из текста вакансии.
Не добавляй в массив строк компетенции, не относящиеся к вакансии.
Формат ответа:
["компетенция1", "компетенция2", ...]
"""

PROJECT_COMPETENCIES_PROMPT = """
Проанализируй описание проекта и выдели ТОЛЬКО профессиональные компетенции из текста проекта.
Возможными компетенциями могут быть: языки программирования, фреймворки, библиотеки, базы данных и методы работы с ними, разработка чат-ботов, 
направления в индустриях, например построение ML-моделей, NLP, LLM, а также A/B-тестирование, геймдизайн, Power BI, разработка онлайн-курсов.
Данные:
Отрасль: {industry}
Название: {title}
Описание: {description}
Цель: {goal}
Результаты: {results}
Технологии: {tech}

Верни только JSON-массив строк. Компетенций(строк) в массиве должно быть не менее одной, но НЕ БОЛЕЕ 7. Компетенций должны быть выделены строго из текста проекта.
Не добавляй в массив строк компетенции, не относящиеся к проекту.
Формат ответа:
["компетенция1", "компетенция2", ...]
"""

MATRIX_SIMILARITY_PROMPT = """Ты сопоставляешь компетенции индустрии и учебного проекта.

Тебе даны два списка:
- industry_competencies: компетенции, требуемые индустрией
- project_competencies: компетенции, формируемые на проекте

Нужно:
1. Для КАЖДОЙ компетенции из industry_competencies найти наиболее близкие по смыслу компетенции из project_competencies.
2. Для каждой пары укажи оценку соответствия "similarity" от 0 до 1 (0 — не связано, 1 — полностью совпадает).
3. Ответ верни в формате JSON:
{{
  "matches": [
    {{
      "industry_competency": "ML modeling",
      "project_competencies": [
        {{
          "project_competency": "Machine learning models implementation",
          "similarity": 0.9
        }},
        ...
      ]
    }}
  ]
}}

Старайся не перечислять больше 3–4 project_competencies для одной industry_competency.

industry_competencies: {{industry_competencies}}
project_competencies: {{project_competencies}}

Ответ:"""

RECOMMENDATIONS_PROMPT = """Ты образовательный аналитик.
Тебе даны:
- описание индустрии
- список индустриальных компетенций и их частота
- список компетенций учебных проектов
- матрица соответствия (какие компетенции покрываются, какие нет)
- список пробелов (gaps) и зон избыточности (redundancy)

Сформируй рекомендации:
1. Какие новые модули/темы стоит добавить в программу.
2. Какие существующие проекты нужно усилить или изменить.
3. Есть ли "лишние" компетенции, которые мало востребованы индустрией.
4. Какие нишевые компетенции могут стать конкурентным преимуществом.

Ответ верни в JSON:
{{
  "new_topics": [ ... ],
  "project_changes": [ ... ],
  "low_demand_competencies": [ ... ],
  "niche_opportunities": [ ... ],
  "summary": "текстовое резюме для человека"
}}

Входные данные:
industry: {{industry}}
industry_stats: {{industry_stats}}
project_stats: {{project_stats}}
gaps: {{gaps}}
redundancy: {{redundancy}}

Ответ:"""
